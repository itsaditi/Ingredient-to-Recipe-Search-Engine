{% extends 'base.html' %}

{% block head %}
<title>Simple Ingredient-to-receipe search engine</title>
{% endblock %}

{% block body %}

<div class="center">
    <div class="row">
        <div class="col-sm-1">

        </div>
        <div class="col-sm-10">
            <h1>Simple Ingredient-to-receipe search engine</h1>


            <!-- <form action="/" method="POST">
                <select multiple="multiple" id="mymultiselect" name="mymultiselect" style="    height: 250px;">  
                    {% for y in tasks %}       
                    <option  value="{{y[0]}}">{{y[0]}}</option>       
                    {%endfor%}
                </select>
                
                
            <br>
                <input type="submit" value="Search">
            </form>
            <div class="card">
                <div class="card-body">
                  Selected : {% for x in selected %}{{x}} {%endfor%}
                </div>
              </div>
            <table>
                <thead><tr>
                    <th>Receipe title</th>
                    <th>Ingredients</th>
        
                </tr></thead>
                <tbody>
                    {% for receipes in result %}
                    
                    <tr >
                        {% for x in range(1,(receipes)| length) %}
                        <td >
                            <a href="{{ url_for('getrecipe', my_var=receipes[0]) }}">{{ receipes[x] }}</a>
                        </td>
                        
                        {%endfor%}
                    </tr>
                    {% endfor %}
                </tbody>
            </table> -->
        
        </div>
    
        <div class="col-sm-1">
            
        </div>
    
        <div class="col-sm-2">


            <form action="/" method="POST">
                <input  id="myInput2" type="text" placeholder="Search Ingredients">

                <select multiple="multiple" id="mymultiselect" name="mymultiselect" 
                style="width: 200px; height: 650px;">  
                    {% for y in tasks %}       
                    <option  value="{{y[0]}}" style="overflow: hidden;
                    text-overflow: ellipsis;    margin-top: 6px;    font-stretch: condensed;
                    white-space: pre-wrap;">{{y[0]}}</option>       
                    {%endfor%}
                </select>
                
                
            <br>
                <input type="submit" value="Search">
            </form>
          
           
        
        </div>
    
        <div class="col-sm-10">
            <div class="card">
                <div class="card-body">
                    <div class="row">
                        <div class="col-sm-2">
                            <b>Selected Ingredients:</b>
                        </div>
                        <div class="col-sm-10">
                            {% for x in selected %}{{x}}, {%endfor%}
                        </div>
                    </div>
                   
                </div>
              </div>
            <div  style="overflow-y: scroll; height:650px;">
                <input class="form-control" id="myInput" type="text" placeholder="Search..">

                <table class="table table-hover">
                <thead><tr>
                    <th>Receipe title</th>
                    <th>Ingredients</th>
        
                </tr></thead>
                <tbody id="myTable">
                    
                    {% for receipes in result %}
                    <tr >
                        {% for x in range(1) %}
                        
                        <td >
                            <a href="{{ url_for('getrecipe', my_var=receipes[0]) }}">{{ receipes[1] }}</a>
                        </td>
                        <td >
                            {{ receipes[2] }}
                        </td>
                        
                        {%endfor%}
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            </div>
        </div>

    </div>
    
<script>
    $(document).ready(function(){
      $("#myInput").on("keyup", function() {
        var value = $(this).val().toLowerCase();
        $("#myTable tr").filter(function() {
          $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
      });
    });
    $(document).ready(function(){
      $("#myInput2").on("keyup", function() {
        var value = $(this).val().toLowerCase();
        $("#mymultiselect option").filter(function() {
          $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
      });
    });
    </script>
   

    
   
    
</div>
    


{% endblock %}